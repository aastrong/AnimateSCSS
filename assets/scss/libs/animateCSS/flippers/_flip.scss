/* flip */
$flip_amount: 300px;
$flip_scale: .05;

@-webkit-keyframes flip {
	0% {
		-webkit-transform: perspective($flip_amount) rotateY(0);
		-webkit-animation-timing-function: ease-out;
	}
	40% {
		-webkit-transform: perspective($flip_amount) translateZ(150px) rotateY(170deg);
		-webkit-animation-timing-function: ease-out;
	}
	50% {
		-webkit-transform: perspective($flip_amount) translateZ(150px) rotateY(190deg) scale(1);
		-webkit-animation-timing-function: ease-in;
	}
	80% {
		-webkit-transform: perspective($flip_amount) rotateY(360deg) scale(#{1 - $flip_scale});
		-webkit-animation-timing-function: ease-in;
	}
	100% {
		-webkit-transform: perspective($flip_amount) scale(1);
		-webkit-animation-timing-function: ease-in;
	}
}
@-moz-keyframes flip {
	0% {
		-moz-transform: perspective($flip_amount) rotateY(0);
		-moz-animation-timing-function: ease-out;
	}
	40% {
		-moz-transform: perspective($flip_amount) translateZ(150px) rotateY(170deg);
		-moz-animation-timing-function: ease-out;
	}
	50% {
		-moz-transform: perspective($flip_amount) translateZ(150px) rotateY(190deg) scale(1);
		-moz-animation-timing-function: ease-in;
	}
	80% {
		-moz-transform: perspective($flip_amount) rotateY(360deg) scale(#{1 - $flip_scale});
		-moz-animation-timing-function: ease-in;
	}
	100% {
		-moz-transform: perspective($flip_amount) scale(1);
		-moz-animation-timing-function: ease-in;
	}
}
@-o-keyframes flip {
	0% {
		-o-transform: perspective($flip_amount) rotateY(0);
		-o-animation-timing-function: ease-out;
	}
	40% {
		-o-transform: perspective($flip_amount) translateZ(150px) rotateY(170deg);
		-o-animation-timing-function: ease-out;
	}
	50% {
		-o-transform: perspective($flip_amount) translateZ(150px) rotateY(190deg) scale(1);
		-o-animation-timing-function: ease-in;
	}
	80% {
		-o-transform: perspective($flip_amount) rotateY(360deg) scale(#{1 - $flip_scale});
		-o-animation-timing-function: ease-in;
	}
	100% {
		-o-transform: perspective($flip_amount) scale(1);
		-o-animation-timing-function: ease-in;
	}
}
@keyframes flip {
	0% {
		transform: perspective($flip_amount) rotateY(0);
		animation-timing-function: ease-out;
	}
	40% {
		transform: perspective($flip_amount) translateZ(150px) rotateY(170deg);
		animation-timing-function: ease-out;
	}
	50% {
		transform: perspective($flip_amount) translateZ(150px) rotateY(190deg) scale(1);
		animation-timing-function: ease-in;
	}
	80% {
		transform: perspective($flip_amount) rotateY(360deg) scale(#{1 - $flip_scale});
		animation-timing-function: ease-in;
	}
	100% {
		transform: perspective($flip_amount) scale(1);
		animation-timing-function: ease-in;
	}
}

.flip {
	@include animation(flip);
}